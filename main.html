<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
  xml:lang="en" lang="en">
  <head>
    <title>Albumatic</title>
    <link type="text/css" rel="stylesheet" href="stylesheets/main.css" />
  </head>

  <body>
    <h1>Albumatic v5</h1>

    <p>Albumatic generates stamp album pages in PDF based on
    arguments given in the URL.</p>

    <p>For example, if you access URL:</p>

    <p><a href="/pdf/USA/Definitives/2009/1/ABBA-hh-BBB">
    http://albumatic.appspot.com/pdf/USA/Definitives/2009/1/ABBA-hh-BBB</a></p>

    <p>You will get an album page with headers and three rows of stamps.
    Each letter in the template identifies one stamp, and dashes separate lines.</p>

    <img src="/static/ABBA-hh-BBB.png" alt="four stamps, two stamps, three stamps" />

    <h2>Stamp sizes</h2>

    Stamp size is described with a letter in the template. Potrait or square
    stamps are uppercase letters and landscape stamps are lowercase letters.

    <p>Standard sizes follow sizes available as ready cut stamp mounts
    (from Hawid and/or Leuchtturm) with our own naming.</p>

    <p>The size A is the most narrow potrait stamp - size B is the
    same width but taller.  Stamps "a" and "A" are not necessarily of
    the same size rotated.</p>

    <p>Table of the sizes is available as <a
    href="/static/StandardSizes.pdf">PDF</a>.</p>

    <p>All the potrait sizes can be seen in this album
    <a href="http://albumatic.appspot.com/pdf/Sizes/Potrait///potrait.pdf?template=ABCDEFG-HIJKLM-NOPQR-STUV-WXYZ&t_1_1=A&t_1_2=B&t_1_3=C&t_1_4=D&t_1_5=E&t_1_6=F&t_1_7=G&t_2_1=H&t_2_2=I&t_2_3=J&t_2_4=K&t_2_5=L&t_2_6=M&t_3_1=N&t_3_2=O&t_3_3=P&t_3_4=Q&t_3_5=R&t_4_1=S&t_4_2=T&t_4_3=U&t_4_4=V&t_5_1=W&t_5_2=X&t_5_3=Y&t_5_4=Z">
    page.</a>
    </p>
    <p>And landscape sizes in this album
    <a href="/pdf/Sizes/Landscape///landscape.pdf?template=abcde-fghi-jklm-nopq-rst-uv&t_1_1=a&t_1_2=b&t_1_3=c&t_1_4=d&t_1_5=e&t_2_1=f&t_2_2=g&t_2_3=h&t_2_4=i&t_3_1=j&t_3_2=k&t_3_3=l&t_3_4=m&t_4_1=n&t_4_2=o&t_4_3=p&t_4_4=q&t_5_1=r&t_5_2=s&t_5_3=t&t_6_1=u&t_6_2=v">
    page.</a>
    </p>
    
    <h2>Custom sizes</h2>

    <p>Any size letter can be redefined as:</p>
    <p>
    <a href="/pdf/////ABA-X?size_B=50,50&amp;size_X=150,80">
    http://albumatic.appspot.com/pdf/////ABA-X?size_B=50,50&amp;size_X=150,80</a>
    </p>

    <img src="/static/ABA-X.png" alt="three stamps, one stamp"/>

    <h2>Additional attributes</h2>

    <p>You can define attributes to modify page layout. You write them
    to the end of the URL as (forcing ugly title):</p>

    <p><a href="/pdf/USA//2009/2/AAAA-BBBB?logotext=myalbum&amp;header1pos=10">
    http://albumatic.appspot.com/pdf/USA//2009/2/AAAA-BBBB?logotext=myalbum&amp;header1pos=10</a></p>
 
    Attributes are:
    <ul>
    <li>unit, default mm, allowed values: mm, in, pica, pt, in (all the later measurements are in this unit)</li>
    <li>pagewidth,  default A4</li>
    <li>pageheight, default A4</li>
    <li>logotext, default Albumatic, written to the left footer</li>
    <li>topmargin, default 12 (mm)</li>
    <li>bottommargin, default 18 (mm)</li>
    <li>leftmargin, default 15 (mm)</li>
    <li>rightmargin", default 15 (mm)</li>
    <li>header1pos, default 25 (mm)</li>
<!--
    <li>header1font, default ("Helvetica", 36)</li>
-->
    <li>header2pos, default 35 mm</li>
<!--
    <li>header2font", ("Helvetica", 18)</li>
-->
    <li>maxxdistance, default 15 mm</li>
    <li>maxydistance, default 25 mm</li>
    <li>header1, can be used to set header1 instead of the first part of the URL</li>
    <li>header2, can be used to set header2 instead of the second part of the URL</li>
    <li>leftfooter, currently synonym to logotext</li>
    <li>rightfooter, defaults to year + '/' + no where year and no comes from URL</li>
    <li>size_X=10,20, overwrite standard size X to width 10 and height 20</li>
    <li>template, can be used to set stamp layout instead of the last part of the path in URL</li>
    <li>t_1_1, text of stamp position 1,1</li>
    <li>l_1_1, label of stamp position 1,1</li>
    <li>placeholders=texts/labels/both, put row, col coordinates as text/label placeholders</li>
    </ul>

    Header font is currently fixed as Helvetica 36pt and 18pt.

    <h2>Saving the work</h2>
    
    <p>If you save the basic URL, the default name for the save page
    is the template name.
    In most cases that is not what you want. Even though your browser
    knows that the page returned is PDF-file, for later use it is better
    to save files ending with ".pdf".</p>

    <p>You can add still one part to the URL like "/1.pdf". The name 
    does not have affect the page layout but it will be the default
    of the page when you save it. For example, try to save the following
    page:</p>
    
    <p>
    <a href="/pdf/////ABA-X-dd/1.pdf">
    http://albumatic.appspot.com/pdf/////ABA-X-dd/1.pdf</a>
    </p>
    
    <h2>Stamp labels</h2>
    
    <p>Every stamp has two places to insert text. One is inside the
    stamp frame called "text". Another is below the stamp called
    "label". The stamp place is identified by row and column. The topmost
    row is the row number 1. The leftmost stamp place is column number 1.</p>
    
    <p>Texts are added as attributes to URL as:</p>
    
    <ul>
    <li>t_1_1=text, adds text inside the stamp frame in
    row 1, col 1</li>
    <li>l_1_1=label, adds label below the stamp frame in
    row 1, col 1</li>
    <li>placeholders=texts/labels/both, adds all labels and/or
    texts as the text "row, col"</li>
    </ul>
    
    <h2>Internationalization</h2>
    
    <p>Texts (like titles) can
    have international characters and spaces but they should be quoted
    as in standard web URL. Writing directly international characters
    to URL may or may not work depending on your browser. In practise,
    you may have to write tricky URL's to a file and use some
    program makes the tricky "quotation" used in URLs.</p>
    
    <p>Texts are limited to one line. It seems that URL
    can be several thousands of characters in modern browsers and
    therefore it the length of the URL should not be a problem.</p>
    
    <p>For example (unquoted):</p>
    <p><a
href="/pdf/USA/2012///AAA-X/1.pdf?placeholders=texts&amp;l_1_2=variation cliché&amp;l_1_3=variation brût">

http://albumatic.appspot.com/pdf/USA/2012///AAA-X/1.pdf?placeholders=texts&amp;l_1_2=variation cliché&amp;l_1_3=variation brût
    </a></p>

    <p><img src="/static/1.png" alt="three stamps, one stamp, two
stamps have labels, all stamps have row,col as text inside,
international characters are used" height="527" width="373"/></p>

    <h2>Manual postprocessing</h2>
   
    <p>The recommended way to make manual modifications to pages
    is to use free Inkscape program available for Linux, Windows and
    Mac. Inkscape is capable of reading PDF files and allows vector
    graphics editing of pages. Note that you must ungroup the page,
    possibly many times, to be able to access individual frames.</p>
    
    <p>Inkscape is available from
    <a href="http://inkscape.org">http://inkscape.org</a>.</p>

    <p>It is useful to use attribute "placeholders=both" to have
    text fields in the right place if you plan to make manual
    postprocessing.</p>

    <h2>Automating full album generation</h2>

    <p>A natural way to use Albumatic is to create web pages with links
    to generate full albums. It is also trivial to automate requests with
    any automatic web page retriever.</p>

    <p>A command line program Gnu wget is available for both Linux (standard
    tool) and for <a href="http://gnuwin32.sourceforge.net/packages/wget.htm">
    Windows</a> command line.</p>

    <p>If you want to generate an album, you save much work with a script language
    like Linux shell scripts. You can do someting like:</p>

    <p><code>
    url=http://albumatic.appspot.com/pdf/USA/Definitives/<br/>
    attr="?unit=in&amp;pagewidth=8.5&amp;pageheight=11"<br/>
    wget $url/1/ABBA-hh-XX/1.pdf$attr<br/>
    wget $url/2/BBB-ccc-ddd/2.pdf$attr<br/>
    ...<br/>
    </code></p>

    <p>Another alternative is to make a web page (why not publish it...)
    and retrive it all at once with command</p>

    <p><code>
    wget --recursive http://myserver/mypage.html
    </code></p>

    <p>It is important to name pages uniquely with the last part of the URL.</p>

    <h2>About Albumatic</h2>
    <p>This application is running in Google App Engine infrastructure
    and it is written using Python and Reportlab PDF generation
    library. The source code is available in
    <a href="http://code.google.com/p/albumatic">http://code.google.com/p/albumatic</a>
    </p>

    <p>Albumatic is written by Esa Turtiainen</p>

    <h2>TODO</h2>

    <p>There will be a catalogue system that cenerates automatically
    album pages. Some day.</p>

    {% if message %}
        <p><b>{{ message }}</b></p>
    {% endif %}

  </body>
</html>
